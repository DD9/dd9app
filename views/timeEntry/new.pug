extends ../index/layout

include ../timeEntry/mixins/_createTimeEntry

block content
  .container.time-entry-new
    .my-5.py-1.px-3.bg-white.rounded.box-shadow
      .row
        .col.mt-2
          h4 New Time Entries
      table#createdTimeEntriesTable.table.table-sm.w-100
        thead.thead-light
          th Date
          th Company
          th Hours
          th Description
          th
        each timeEntry in timeEntries
          tr
            td= h.YYYYMMDD(timeEntry.date)
            td= timeEntry.company.name
            td= timeEntry.hours
            td= timeEntry.description
            if user.permissions[0].admin
              td
                a.approve(href=`/api/v1/timeEntry/${timeEntry._id}/approve`) Approve
                | &nbsp&nbsp
                a.hide(href=`/api/v1/timeEntry/${timeEntry._id}/hide`) Hide
                | &nbsp&nbsp
                a.submit(href=`/api/v1/timeEntry/${timeEntry._id}/submit`) Submit
                | &nbsp&nbsp
                a.delete(href=`/api/v1/timeEntry/${timeEntry._id}/delete`) Delete
            else
                a.submit(href=`/api/v1/timeEntry/${timeEntry._id}/submit`) Submit
                | &nbsp&nbsp
                a.delete(href=`/api/v1/timeEntry/${timeEntry._id}/delete`) Delete
        tr#lastRowInCreatedTimeEntriesTable
          td
          td
          td#totalCreatedHours= totalCreatedHours
          td
          td

    .py-1.px-3.bg-white.rounded.box-shadow.time-entry-new-time-entry-card
      .row
        .col.mt-3.mb-2
          h4 Add New Time Entry
      +createTimeEntry()